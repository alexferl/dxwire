.envelope-graph {
  width: 100%;
  height: 100%;
  min-height: 140px;
  background: #1a1a1a;
  border: 1px solid #333;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.envelope-graph svg {
  display: block;
  width: 100%;
  max-height: 100%;
}

/* Grid lines */
.grid-line {
  stroke: #333;
  stroke-width: 1;
  vector-effect: non-scaling-stroke;
}

.grid-line-key {
  stroke: #444;
  stroke-dasharray: 2, 2;
}

/* ADSR phase boundary markers (dotted lines from envelope peaks) */
.adsr-marker {
  stroke: #20b2aa;
  stroke-width: 1;
  stroke-dasharray: 3, 3;
  vector-effect: non-scaling-stroke;
}

/* ADSR phase labels */
.adsr-label {
  font-family: system-ui, -apple-system, sans-serif;
  font-size: 9px;
  font-weight: 600;
}

.asdr-label-attack {
  fill: #cc4499;
}

.asdr-label-decay {
  fill: #cc6666;
}

.asdr-label-sustain {
  fill: #66aa66;
}

.asdr-label-release {
  fill: #9966bb;
}

/* Main envelope path (active segments - attack, decay, sustain) */
.envelope-path {
  stroke: #20b2aa;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  vector-effect: non-scaling-stroke;
}

/* Idle segment (before KEY ON) - light gray/dashed */
.envelope-path-idle {
  stroke: #666;
  stroke-width: 1.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 4, 3;
  vector-effect: non-scaling-stroke;
}

/* Release segment (after KEY OFF) - dashed teal */
.envelope-path-release {
  stroke: #20b2aa;
  stroke-width: 1.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 4, 3;
  vector-effect: non-scaling-stroke;
}

/* Fill area under envelope */
.envelope-fill {
  fill: rgba(0, 255, 255, 0.1);
}

.envelope-fill-attack {
  fill: rgba(255, 0, 170, 0.2);
}

.envelope-fill-decay {
  fill: rgba(255, 68, 68, 0.2);
}

.envelope-fill-sustain {
  fill: rgba(68, 255, 68, 0.2);
}

.envelope-fill-release {
  fill: rgba(170, 68, 255, 0.2);
}

/* Concert pitch reference line (pitch mode only) */
.concert-pitch-line {
  stroke: #888;
  stroke-width: 1;
  stroke-dasharray: 4, 2;
  vector-effect: non-scaling-stroke;
}

/* Level markers (6 points) */
.level-marker {
  fill: #00ffff;
  stroke: #1a1a1a;
  stroke-width: 1;
}

.level-marker-trigger {
  fill: #00ff00;
}

.level-marker-l1,
.level-marker-l2,
.level-marker-l3 {
  fill: #00ffff;
}

.level-marker-l4,
.level-marker-l4-end {
  fill: #888;
}

/* Key on/off markers */
.key-marker {
  stroke-width: 1;
  vector-effect: non-scaling-stroke;
}

.key-on-marker {
  stroke: #00aa00;
  stroke-dasharray: 2, 2;
}

.key-off-marker {
  stroke: #aa6600;
  stroke-dasharray: 2, 2;
}

/* Key marker labels */
.key-marker-label {
  fill: #888;
  font-size: 8px;
  font-family: system-ui, -apple-system, sans-serif;
  font-weight: 500;
}

.key-on-label {
  fill: #66aa66;
}

.key-off-label {
  fill: #aa8866;
}

/* Sustain bracket and label */
.sustain-bracket {
  fill: none;
  stroke: #666;
  stroke-width: 1;
}

.sustain-label {
  fill: #888;
  font-size: 7px;
  font-family: system-ui, -apple-system, sans-serif;
  font-style: italic;
}

/* Parameter labels (L1-L4, R1-R4) */
.param-label {
  font-family: system-ui, -apple-system, sans-serif;
  font-size: 9px;
  font-weight: 600;
}

.level-label {
  fill: #ccc;
}

.rate-label {
  fill: #888;
}

/* Title */
.graph-title {
  fill: #fff;
  font-family: system-ui, -apple-system, sans-serif;
  font-size: 11px;
  font-weight: 600;
}

/* Axis labels */
.axis-label {
  fill: #888;
  font-family: system-ui, -apple-system, sans-serif;
  font-size: 8px;
}

.y-axis-label {
  font-weight: 500;
}

.x-axis-label {
  font-weight: 500;
}

/* Tick labels */
.tick-label {
  fill: #666;
  font-family: system-ui, -apple-system, sans-serif;
  font-size: 8px;
}
